# 12条点検 Web アプリ

デジタルカメラで撮影した写真の「写真番号」を手動で入力することで、点検データの入力・保存・閲覧を行うシステムです。

## 機能概要

- 点検情報（点検日、点検者名、現場ID、備考）の入力
- 劣化内容（場所、劣化名、写真番号）の入力と保存
- 場所・劣化名の予測変換機能（スマホのフリック入力対応）
- 保存済み点検データの閲覧・検索
- CSVダウンロード機能（Excel貼り付け対応）

## 必要環境

- Python 3.8以上
- 必要ライブラリ：streamlit, pandas, numpy

## インストール方法

1. リポジトリをクローンまたはダウンロードします
2. 必要なライブラリをインストールします

```bash
pip install -r requirements.txt
```

## 使用方法

1. アプリケーションを起動します

```bash
streamlit run app.py
```

2. ブラウザが自動的に開き、アプリケーションが表示されます
3. 「点検入力」タブで点検情報と劣化内容を入力します
4. 「データ閲覧」タブで保存済みデータを確認・検索できます

## 予測変換機能

場所と劣化名の入力欄には、予測変換機能が実装されています：

1. テキストを入力すると、入力内容に基づいて候補が表示されます
2. 候補から選択するか、そのまま自由に入力を続けることができます
3. スマホのフリック入力にも対応しており、現場での入力が容易です
4. 最初の文字を入力するだけで、関連する候補が表示されます

## ディレクトリ構成

- `app.py` - メインアプリケーションファイル
- `requirements.txt` - 必要ライブラリ一覧
- `master/` - マスターデータ（場所・劣化名の予測変換用）
  - `locations.csv` - 場所のマスターデータ
  - `deteriorations.csv` - 劣化名のマスターデータ
- `data/` - 保存データディレクトリ
  - `inspection_data.csv` - 保存された点検データ

## マスターデータのカスタマイズ

場所や劣化名の選択肢は、`master`ディレクトリ内のCSVファイルを編集することでカスタマイズできます。
CSVファイルは以下の形式で作成してください：

- 1行目：ヘッダー（「場所」または「劣化名」）
- 2行目以降：選択肢（1行につき1項目）

### エンコーディングについて

マスターデータのCSVファイルは、UTF-8、Shift-JIS、CP932、UTF-8-SIGのいずれかのエンコーディングで保存できます。アプリケーションは自動的に適切なエンコーディングを検出します。ただし、日本語を含むファイルの場合は、UTF-8での保存を推奨します。

## データ保存形式

点検データは `data/inspection_data.csv` に保存されます。
エンコーディングは `utf-8-sig` で、Excel貼り付けに対応しています。 